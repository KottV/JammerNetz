# This file was generated by Jucer2Reprojucer from "JammerNetzServer.jucer"

cmake_minimum_required(VERSION 3.4)

project("JammerNetzServer")

# Add the juce-cmake project to our module list
list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}/../third_party/juce-cmake/cmake")

# Find JUCE, and add the components we need
find_package(JUCE REQUIRED 
	COMPONENTS 
		juce_core		
		juce_events
		juce_audio_basics
		juce_audio_devices
		juce_audio_formats
		juce_data_structures
		juce_cryptography
)

# 
# Find CapnProto via CMAKE - strangely, this wants to be compiled as the build output of CapnProto build is the CMake file to include
# 
set(CapnProto_DIR "${CMAKE_CURRENT_LIST_DIR}/../third_party/capnproto/c++/build/cmake")
find_package(CapnProto REQUIRED) 


add_subdirectory("${CMAKE_CURRENT_LIST_DIR}/../common" "${CMAKE_BINARY_DIR}/common")

include_directories("../third_party/tbb2019_20190605oss/include/")

set(SOURCES
	Source/Main.cpp
	Source/AcceptThread.cpp Source/AcceptThread.h
	Source/MixerThread.cpp Source/MixerThread.h
	Source/SendThread.cpp Source/SendThread.h
	Source/SharedServerTypes.h
)

add_executable(${PROJECT_NAME} ${SOURCES})
target_link_libraries(${PROJECT_NAME} ${JUCE_LIBRARIES} JammerCommon)
source_group(Source FILES ${SOURCES})
